{% extends "base.html" %}

    {% block 'contenido' %}
<div>
    <div class="col-12 col-md-6 offset-0 offset-md-3 my-3 ">
        <h2 class="text-center">Iniciar Sesión</h2>
            <div class="text-center mx-auto cuadro-formulario py-3">
                {% if form.errors %}
                <div class="alert alert-danger" role="alert">
                    <p>Su nombre de usuario y contraseña no coinciden. Inténtalo de nuevo.</p>
                </div>
                
                {% endif %}
            
                {% if next %}
                    {% if user.is_authenticated %}
                        <div class="alert alert-danger" role="alert">
                            <p>Su cuenta no tiene acceso a esta página. Para continuar,
                                inicie sesión con una cuenta que tenga acceso.</p>
                        </div>
                        
                    {% else %}
                        <div class="alert alert-danger" role="alert">
                            <p>Por favor inicie sesión para ver esta página.</p>
                        </div>
                    {% endif %}
                {% endif %}
                <form method="post" action="{% url 'login' %}">
                    {% csrf_token %}
                    <div class="mb-3 text-center">
                        <label for="id_username">Usuario:</label></td>
                        <input type="text" name="username" autofocus="" autocapitalize="none" autocomplete="username" maxlength="150" required="" id="id_username"></td>
                    </div>
                    <div class="mb-3 text-center">
                        <label for="id_password">Contraseña:</label></td>
                        <input type="password" name="password" autocomplete="current-password" required="" id="id_password"></td>
                    </div>
                        <input type="submit" value="Ingresar">
                        <input type="hidden" name="next" value="">
                </form>
            {# Asume que configura la vista de restablecimiento de contraseña en su URLconf #}

                <p><a href="{% url 'password_reset' %}">¿Olvidó su contraseña?</a></p>

                <p>¿No tienes un usuario creado?</p>
                <a href="{% url 'registro'%}" class='btn btn-primary'>Registrarse</a>
            </div>
        </div>
    </div>
</div>
        

    {% endblock %}
